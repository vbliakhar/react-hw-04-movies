(this["webpackJsonpreact-hw-04-movies"]=this["webpackJsonpreact-hw-04-movies"]||[]).push([[5],{35:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f}));var c=n(40),r=n.n(c),a=n(41),o="https://api.themoviedb.org/3/",i="18f3850d2e2b26a030fc97b3b8448670";function u(){return s.apply(this,arguments)}function s(){return(s=Object(a.a)(r.a.mark((function e(){var t,n,c,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,n);case 4:if(!(c=e.sent).ok){e.next=11;break}return e.next=8,c.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return u("".concat(o,"trending/all/day?api_key=").concat(i,"&page=").concat(e),{params:3})}function j(e){return u("".concat(o,"movie/").concat(e,"?api_key=").concat(i))}function b(e){return u("".concat(o,"movie/").concat(e,"/credits?api_key=").concat(i,"&language=en-US"))}function p(e){return u("".concat(o,"movie/").concat(e,"/reviews?api_key=").concat(i,"&language=en-US&page=1"))}function f(e,t){return u("".concat(o,"search/movie?api_key=").concat(i,"&query=").concat(e,"&language=en-US&page=1&include_adult=false&page=").concat(t))}},36:function(e,t,n){"use strict";n(0);var c=n.p+"static/media/cat.65c09fc9.jpg",r=n(1);t.a=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("img",{src:c,width:"150",alt:"Cat-cry"})})}},44:function(e,t,n){"use strict";var c=n(0),r=n(36),a=n(2),o=n(5),i=n(90),u=n(1),s=function(e){var t=e.currentPage,n=e.count,c=e.onChangePage;return Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(u.jsx)(i.a,{shape:"rounded",color:"secondary",variant:"outlined",page:t,count:n,onChange:function(e,t){c(t)}})})},l=function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};t.a=function(e){var t=e.movies,n=e.currentPage,i=e.count,j=e.onChangePage,b=Object(a.i)().url,p=Object(a.g)();return Object(c.useEffect)((function(){return l()}),[t]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("ul",{className:"blockImg",children:t.map((function(e){return e.title&&Object(u.jsx)("li",{children:Object(u.jsx)(o.b,{to:{pathname:"".concat(b).concat("/"===p.pathname?"movies/":"/").concat(e.id),state:{form:{location:p,label:"Home page"}}},children:e.poster_path?Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(e.poster_path),alt:e.title,width:"186",height:"278.984"}):Object(u.jsx)(r.a,{})})},e.id)}))}),Object(u.jsx)(s,{currentPage:n,count:i,onChangePage:j})]})}},69:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var c=n(43);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=n(34),i=n(0),u=n(35),s=n(2),l=(n(69),n(44)),j=n(1);t.default=function(){var e=Object(i.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)(null),b=Object(o.a)(r,2),p=b[0],f=b[1],h=Object(i.useState)(null),g=Object(o.a)(h,2),O=g[0],d=g[1],m=Object(s.g)(),v=Object(s.f)(),y=Object(i.useState)(1),x=Object(o.a)(y,2),w=x[0],P=x[1],k=new URLSearchParams(m.search).get("query");Object(i.useEffect)((function(){k&&u.d(k,w).then((function(e){e.total_pages>0?(f(e),c("")):(f(null),d(k))}))}),[k,w]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==n.trim()&&v.push(a(a({},m),{},{search:"query=".concat(n)}))},className:"formMovies",children:[Object(j.jsx)("input",{type:"text",name:"bar",value:n,placeholder:"Search movies",onChange:function(e){c(e.currentTarget.value.toLowerCase())}}),Object(j.jsx)("button",{type:"submit",children:"Search"})]}),O&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"Text not found"}),Object(j.jsx)("h1",{children:O})]}),p&&Object(j.jsx)(l.a,{movies:p.results,currentPage:p.page,count:p.total_pages,onChangePage:function(e){P(e)}})]})}}}]);
//# sourceMappingURL=MoviesLazy.bdc14ef6.chunk.js.map