{"version":3,"sources":["services/movieShelf-api.jsx","components/ImageError/cat.jpg","components/ImageError/ImageError.jsx","hoc/PaginationBox/PaginationBox.jsx","services/myScroll.jsx","components/ListMovie/ListMovie.jsx","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","views/Movies/Movies.jsx"],"names":["BASE_URL","myKey","fetchWithErrorHandling","a","url","config","fetch","response","ok","json","Promise","reject","Error","fetchMovies","page","params","fetchMovieById","moviesId","fetchMovieByActors","filmId","fetchMovieByReviews","fetchMovieBySearch","searchFilm","ImageError","src","errorImage","width","alt","PaginationBox","currentPage","count","onChangePage","style","display","justifyContent","Pagination","shape","color","variant","onChange","event","pages","myScroll","window","scrollTo","top","document","documentElement","scrollHeight","behavior","ListMovie","movies","useRouteMatch","location","useLocation","useEffect","className","map","movie","title","to","pathname","id","state","form","label","poster_path","height","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","defineProperty","getOwnPropertyDescriptors","defineProperties","Movies","useState","handlerMovie","setHandlerMovie","listMovies","setListMovies","error","setError","history","useHistory","setPage","saveList","URLSearchParams","search","get","movieShellAPI","then","total_pages","onSubmit","preventDefault","trim","type","name","value","placeholder","e","currentTarget","toLowerCase","results"],"mappings":"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","file":"static/js/MoviesLazy.bdc14ef6.chunk.js","sourcesContent":["const BASE_URL = \"https://api.themoviedb.org/3/\";\nconst myKey = \"18f3850d2e2b26a030fc97b3b8448670\";\n\nasync function fetchWithErrorHandling(url = \"\", config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error(\"not found\"));\n}\nexport function fetchMovies(page) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}trending/all/day?api_key=${myKey}&page=${page}`,\n    {\n      params: 3,\n    }\n  );\n}\nexport function fetchMovieById(moviesId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}movie/${moviesId}?api_key=${myKey}`\n  );\n}\nexport function fetchMovieByActors(filmId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}movie/${filmId}/credits?api_key=${myKey}&language=en-US`\n  );\n}\nexport function fetchMovieByReviews(filmId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}movie/${filmId}/reviews?api_key=${myKey}&language=en-US&page=1`\n  );\n}\nexport function fetchMovieBySearch(searchFilm, page) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}search/movie?api_key=${myKey}&query=${searchFilm}&language=en-US&page=1&include_adult=false&page=${page}`\n  );\n}\n","export default __webpack_public_path__ + \"static/media/cat.65c09fc9.jpg\";","import React from \"react\";\nimport errorImage from \"./cat.jpg\";\nconst ImageError = () => {\n  return (\n    <>\n      <img src={errorImage} width=\"150\" alt=\"Cat-cry\" />\n    </>\n  );\n};\n\nexport default ImageError;\n","import React from \"react\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nconst PaginationBox = ({ currentPage, count, onChangePage }) => {\n  return (\n    <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n      <Pagination\n        shape=\"rounded\"\n        color=\"secondary\"\n        variant=\"outlined\"\n        page={currentPage}\n        count={count}\n        onChange={(event, pages) => {\n          onChangePage(pages);\n        }}\n      />\n    </div>\n  );\n};\n\nexport default PaginationBox;\n","const myScroll = () => {\n  return window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: \"smooth\",\n  });\n};\nexport default myScroll;\n","import React from \"react\";\nimport ImageError from \"../ImageError/ImageError\";\nimport { Link, useRouteMatch, useLocation } from \"react-router-dom\";\nimport PaginationBox from \"../../hoc/PaginationBox/PaginationBox\";\nimport myScroll from \"../../services/myScroll\";\nimport { useEffect } from \"react\";\n\nconst ListMovie = ({ movies, currentPage, count, onChangePage }) => {\n  const { url } = useRouteMatch();\n  const location = useLocation();\n  useEffect(() => myScroll(), [movies]);\n  return (\n    <>\n      <ul className=\"blockImg\">\n        {movies.map(\n          (movie) =>\n            movie.title && (\n              <li key={movie.id}>\n                <Link\n                  to={{\n                    pathname: `${url}${\n                      location.pathname === \"/\" ? \"movies/\" : \"/\"\n                    }${movie.id}`,\n                    state: {\n                      form: {\n                        location,\n                        label: \"Home page\",\n                      },\n                    },\n                  }}\n                >\n                  {movie.poster_path ? (\n                    <img\n                      src={`https://image.tmdb.org/t/p/original/${movie.poster_path}`}\n                      alt={movie.title}\n                      width=\"186\"\n                      height=\"278.984\"\n                    />\n                  ) : (\n                    <ImageError />\n                  )}\n\n                  {/* {movie.title} */}\n                </Link>\n              </li>\n            )\n        )}\n      </ul>\n      <PaginationBox\n        currentPage={currentPage}\n        count={count}\n        onChangePage={onChangePage}\n      />\n    </>\n  );\n};\n\nexport default ListMovie;\n","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { useState, useEffect } from \"react\";\nimport * as movieShellAPI from \"../../services/movieShelf-api\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport \"./Movies.scss\";\nimport ListMovie from \"../../components/ListMovie/ListMovie\";\n\nconst Movies = () => {\n  const [handlerMovie, setHandlerMovie] = useState(\"\");\n  const [listMovies, setListMovies] = useState(null);\n  const [error, setError] = useState(null);\n  const location = useLocation();\n  const history = useHistory();\n  const [page, setPage] = useState(1);\n\n  const saveList = new URLSearchParams(location.search).get(`query`); //the current state of the URL term\n\n  useEffect(() => {\n    if (saveList) {\n      movieShellAPI.fetchMovieBySearch(saveList, page).then((response) => {\n        if (response.total_pages > 0) {\n          setListMovies(response);\n          setHandlerMovie(\"\");\n        } else {\n          setListMovies(null);\n          setError(saveList);\n        }\n      });\n    }\n  }, [saveList, page]);\n  const onChangePage = (page) => {\n    setPage(page);\n  };\n  const handlerName = (e) => {\n    setHandlerMovie(e.currentTarget.value.toLowerCase());\n  };\n\n  const handlerSubmit = (event) => {\n    event.preventDefault();\n    if (handlerMovie.trim() === \"\") {\n      return;\n    }\n    history.push({\n      ...location,\n      search: `query=${handlerMovie}`,\n    });\n  };\n  //test\n  return (\n    <>\n      <form onSubmit={handlerSubmit} className=\"formMovies\">\n        <input\n          type=\"text\"\n          name=\"bar\"\n          value={handlerMovie}\n          placeholder=\"Search movies\"\n          onChange={handlerName}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      {error && (\n        <>\n          <p>Text not found</p>\n          <h1>{error}</h1>\n        </>\n      )}\n      {listMovies && (\n        <ListMovie\n          movies={listMovies.results}\n          currentPage={listMovies.page}\n          count={listMovies.total_pages}\n          onChangePage={onChangePage}\n        />\n      )}\n    </>\n  );\n};\nexport default Movies;\n"],"sourceRoot":""}